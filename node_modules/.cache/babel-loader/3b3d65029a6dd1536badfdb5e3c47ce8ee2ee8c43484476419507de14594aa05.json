{"ast":null,"code":"import React,{useState}from\"react\";import emailjs from\"@emailjs/browser\";import DOMPurify from\"dompurify\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ContactMenu(){const initialState={name:\"\",email:\"\",message:\"\"};const[formData,setFormData]=useState(initialState);const[errors,setErrors]=useState({});const[isLoading,setIsLoading]=useState(false);const[isSent,setIsSent]=useState(false);const handleChange=e=>{const{name,value}=e.target;setFormData(prevFormData=>({...prevFormData,[name]:value}));};const handleSubmit=e=>{e.preventDefault();const validateErrors=validateForm();if(Object.keys(validateErrors).length>0){setErrors(validateErrors);return;}setIsLoading(true);const{name,email,message}=formData;const sanitizedData={name:\"Name: \"+DOMPurify.sanitize(name),email:\"Email: \"+DOMPurify.sanitize(email),message:\"Message: \"+DOMPurify.sanitize(message)};const serviceID=\"detalles_contacto_react\";const templateID=\"template_y5k8b1v\";const userID={publicKey:\"4YNrY_eYp6P5FSHmT\"};emailjs.send(serviceID,templateID,sanitizedData,userID).then(response=>{console.log(\"Email is sent successfully!\",response.text);setFormData(initialState);setErrors({});setIsSent(true);}).catch(error=>{console.error(\"Email sending failed\",error);}).finally(()=>{setIsLoading(false);});};const validateForm=()=>{const{name,email,message}=formData;const errors={};if(!name.trim()){errors.name=\"El nombre es obligatorio\";}if(!email.trim()){errors.email=\"El email es obligatorio\";}else if(!isValidEmail(email)){errors.email=\"Formato de email no válido\";}if(!message.trim()){errors.message=\"El mensaje es obligatorio\";}return errors;};const isValidEmail=value=>{const emailRegex=/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;return emailRegex.test(value);};return/*#__PURE__*/_jsxs(\"div\",{className:\"contact-menu\",children:[!isSent&&/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",name:\"name\",placeholder:\"Nombre\",value:formData.name,onChange:handleChange,className:errors.name?\"error\":\"\",disabled:isLoading}),errors.name&&/*#__PURE__*/_jsx(\"span\",{className:\"error-message\",children:errors.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",name:\"email\",placeholder:\"Email\",value:formData.email,onChange:handleChange,className:errors.email?\"error\":\"\",disabled:isLoading}),errors.email&&/*#__PURE__*/_jsx(\"span\",{className:\"error-message\",children:errors.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"message\",children:\"Message:\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"message\",name:\"message\",placeholder:\"Mensaje\",value:formData.message,onChange:handleChange,className:errors.message?\"error\":\"\",disabled:isLoading}),errors.message&&/*#__PURE__*/_jsx(\"span\",{className:\"error-message\",children:errors.message})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:isLoading,children:isLoading?\"SENDING...\":\"ENVIAR\"})]}),isSent&&/*#__PURE__*/_jsxs(\"div\",{className:\"success-message\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"SUCCESS!\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Your message has been successfully sent!\"}),/*#__PURE__*/_jsx(\"p\",{children:\"You can safely leave this page.\"})]})]});}","map":{"version":3,"names":["React","useState","emailjs","DOMPurify","jsx","_jsx","jsxs","_jsxs","ContactMenu","initialState","name","email","message","formData","setFormData","errors","setErrors","isLoading","setIsLoading","isSent","setIsSent","handleChange","e","value","target","prevFormData","handleSubmit","preventDefault","validateErrors","validateForm","Object","keys","length","sanitizedData","sanitize","serviceID","templateID","userID","publicKey","send","then","response","console","log","text","catch","error","finally","trim","isValidEmail","emailRegex","test","className","children","onSubmit","htmlFor","type","id","placeholder","onChange","disabled"],"sources":["D:/xampp/htdocs/Portfolio_react/plantilla-portfolio-react/src/contact/ContactMenu.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport emailjs from \"@emailjs/browser\";\r\nimport DOMPurify from \"dompurify\";\r\n\r\nexport default function ContactMenu() {\r\n  const initialState = {\r\n    name: \"\",\r\n    email: \"\",\r\n    message: \"\",\r\n  };\r\n\r\n  const [formData, setFormData] = useState(initialState);\r\n  const [errors, setErrors] = useState({});\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isSent, setIsSent] = useState(false);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData((prevFormData) => ({\r\n      ...prevFormData,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const validateErrors = validateForm();\r\n    if (Object.keys(validateErrors).length > 0) {\r\n      setErrors(validateErrors);\r\n      return;\r\n    }\r\n\r\n    setIsLoading(true);\r\n\r\n    const { name, email, message } = formData;\r\n    const sanitizedData = {\r\n      name: \"Name: \" + DOMPurify.sanitize(name),\r\n      email: \"Email: \" + DOMPurify.sanitize(email),\r\n      message: \"Message: \" + DOMPurify.sanitize(message),\r\n    };\r\n\r\n    const serviceID = \"detalles_contacto_react\";\r\n    const templateID = \"template_y5k8b1v\";\r\n    const userID = {publicKey: \"4YNrY_eYp6P5FSHmT\"};\r\n\r\n    emailjs\r\n      .send(serviceID, templateID, sanitizedData, userID)\r\n      .then((response) => {\r\n        console.log(\"Email is sent successfully!\", response.text);\r\n        setFormData(initialState);\r\n        setErrors({});\r\n        setIsSent(true);\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Email sending failed\", error);\r\n      })\r\n      .finally(() => {\r\n        setIsLoading(false);\r\n      });\r\n  };\r\n\r\n  const validateForm = () => {\r\n    const { name, email, message } = formData;\r\n    const errors = {};\r\n\r\n    if (!name.trim()) {\r\n      errors.name = \"El nombre es obligatorio\";\r\n    }\r\n\r\n    if (!email.trim()) {\r\n      errors.email = \"El email es obligatorio\";\r\n    } else if (!isValidEmail(email)) {\r\n      errors.email = \"Formato de email no válido\";\r\n    }\r\n\r\n    if (!message.trim()) {\r\n      errors.message = \"El mensaje es obligatorio\";\r\n    }\r\n\r\n    return errors;\r\n  };\r\n\r\n  const isValidEmail = (value) => {\r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    return emailRegex.test(value);\r\n  };\r\n\r\n  return (\r\n    <div className=\"contact-menu\">\r\n      {!isSent && (\r\n        <form onSubmit={handleSubmit}>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"name\">Name:</label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"name\"\r\n              name=\"name\"\r\n              placeholder=\"Nombre\"\r\n              value={formData.name}\r\n              onChange={handleChange}\r\n              className={errors.name ? \"error\" : \"\"}\r\n              disabled={isLoading}\r\n            />\r\n            {errors.name && (\r\n              <span className=\"error-message\">{errors.name}</span>\r\n            )}\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"email\">Email:</label>\r\n            <input\r\n              type=\"email\"\r\n              id=\"email\"\r\n              name=\"email\"\r\n              placeholder=\"Email\"\r\n              value={formData.email}\r\n              onChange={handleChange}\r\n              className={errors.email ? \"error\" : \"\"}\r\n              disabled={isLoading}\r\n            />\r\n            {errors.email && (\r\n              <span className=\"error-message\">{errors.email}</span>\r\n            )}\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"message\">Message:</label>\r\n            <textarea\r\n              id=\"message\"\r\n              name=\"message\"\r\n              placeholder=\"Mensaje\"\r\n              value={formData.message}\r\n              onChange={handleChange}\r\n              className={errors.message ? \"error\" : \"\"}\r\n              disabled={isLoading}\r\n            ></textarea>\r\n            {errors.message && (\r\n              <span className=\"error-message\">{errors.message}</span>\r\n            )}\r\n          </div>\r\n          <button type=\"submit\" disabled={isLoading}>\r\n            {isLoading ? \"SENDING...\" : \"ENVIAR\"}\r\n          </button>\r\n        </form>\r\n      )}\r\n      {isSent && (\r\n        <div className=\"success-message\">\r\n          <p>SUCCESS!</p>\r\n          <p>Your message has been successfully sent!</p>\r\n          <p>You can safely leave this page.</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}